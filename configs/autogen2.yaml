# TDE-SPH Configuration File
# Autogenerated by TDE-SPH GUI

simulation:
  name: "tde_simulation"
  output_dir: "output"
  mode: "Newtonian"  # newtonian, schwarzschild, kerr
  use_gpu: true

#metric:
 # metric_type: "Kerr"
  #coordinate_system: "Boyer-Lindquist"  # Internal coordinates; Kerr in Boyer-Lindquist
  
black_hole:
  mass: 100000.0  # Solar masses
  spin: 0.8    # a/M, 0 for Schwarzschild

star:
  mass: 1.0      # Solar masses
  radius: 0.7   # Solar radii
  polytropic_index: 3

orbit:
  pericentre: 0.3  # Gravitational radii
  eccentricity: 0.9
  inclination: 0.0  # Degrees
  starting_distance: 2
  
particles:
  count: 10000
  sph_kernel: "cubic_spline"

integration:
  timestep: 0.0001
  t_end: 20.0
  output_interval: 0.02
  cfl_factor: 0.002

physics:
  self_gravity: true
  viscosity: "artificial"
  eos: "Radiation"
  radiation: false
  gravity_type: "barnes_hut"  # Use Barnes-Hut for O(N log N) gravity + octree smoothing
  theta: 0.5  # Barnes-Hut opening angle
  epsilon: 0.2
  
gpu:
  enabled: true           # Disable GPU to focus on CPU optimizations
  device_id: 0
  block_size: 128
  prefer_gpu_gravity: true
  has_cuda: true
  
misc:
  verbose: true
  validate_assignment: true
  use_gpu_hydro: true
  
eos:
  